<!DOCTYPE html>
<html lang="es-ES">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>08 Auth Email &amp; Pass | React Udemy</title>
    <meta name="description" content="Aprende React Hooks con bluuweb">
    <meta name="generator" content="VuePress 1.3.0">
    
    
    <link rel="preload" href="/react-udemy/assets/css/0.styles.cfaf7337.css" as="style"><link rel="preload" href="/react-udemy/assets/js/app.4c1512cb.js" as="script"><link rel="preload" href="/react-udemy/assets/js/2.b23cf27d.js" as="script"><link rel="preload" href="/react-udemy/assets/js/13.99b52a2f.js" as="script"><link rel="prefetch" href="/react-udemy/assets/js/10.6a724925.js"><link rel="prefetch" href="/react-udemy/assets/js/11.7de90a5b.js"><link rel="prefetch" href="/react-udemy/assets/js/12.6996af4b.js"><link rel="prefetch" href="/react-udemy/assets/js/14.61a7e760.js"><link rel="prefetch" href="/react-udemy/assets/js/15.73c1eaa1.js"><link rel="prefetch" href="/react-udemy/assets/js/16.cdf9435d.js"><link rel="prefetch" href="/react-udemy/assets/js/17.28084c92.js"><link rel="prefetch" href="/react-udemy/assets/js/3.df910d3f.js"><link rel="prefetch" href="/react-udemy/assets/js/4.61e25d5f.js"><link rel="prefetch" href="/react-udemy/assets/js/5.408a64cd.js"><link rel="prefetch" href="/react-udemy/assets/js/6.7d8e8337.js"><link rel="prefetch" href="/react-udemy/assets/js/7.bc1a1939.js"><link rel="prefetch" href="/react-udemy/assets/js/8.3c99838b.js"><link rel="prefetch" href="/react-udemy/assets/js/9.73bbc083.js">
    <link rel="stylesheet" href="/react-udemy/assets/css/0.styles.cfaf7337.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/react-udemy/" class="home-link router-link-active"><!----> <span class="site-name">React Udemy</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/react-udemy/" class="nav-link">
  Guía
</a></div><div class="nav-item"><a href="https://youtube.com/bluuweb" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Youtube
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="http://curso-react-js-udemy.bluuweb.cl" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Curso Premium
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/react-udemy/" class="nav-link">
  Guía
</a></div><div class="nav-item"><a href="https://youtube.com/bluuweb" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Youtube
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="http://curso-react-js-udemy.bluuweb.cl" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Curso Premium
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/react-udemy/" class="sidebar-link">Curso React Udemy por bluuweb</a></li><li><a href="/react-udemy/01-proyecto/" class="sidebar-link">01 Mi primer proyecto</a></li><li><a href="/react-udemy/02-hooks-fundamentos/" class="sidebar-link">02 Hooks Fundamentos</a></li><li><a href="/react-udemy/03-jsx/" class="sidebar-link">03 JSX</a></li><li><a href="/react-udemy/04-formularios/" class="sidebar-link">04.01 Formularios</a></li><li><a href="/react-udemy/04-02-simple-crud/" class="sidebar-link">04.2 Simple CRUD</a></li><li><a href="/react-udemy/05-components/" class="sidebar-link">05 Components</a></li><li><a href="/react-udemy/06-router/" class="sidebar-link">06 Rutas</a></li><li><a href="/react-udemy/07-crud-firestore/" class="sidebar-link">07 CRUD Firestore</a></li><li><a href="/react-udemy/08-auth/" class="active sidebar-link">08 Auth Email &amp; Pass</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/react-udemy/08-auth/#instalaciones" class="sidebar-link">Instalaciones</a></li><li class="sidebar-sub-header"><a href="/react-udemy/08-auth/#firebase" class="sidebar-link">Firebase</a></li><li class="sidebar-sub-header"><a href="/react-udemy/08-auth/#rutas" class="sidebar-link">Rutas</a></li><li class="sidebar-sub-header"><a href="/react-udemy/08-auth/#navbar" class="sidebar-link">Navbar</a></li><li class="sidebar-sub-header"><a href="/react-udemy/08-auth/#registro-estructura" class="sidebar-link">Registro estructura</a></li><li class="sidebar-sub-header"><a href="/react-udemy/08-auth/#registro-usestate" class="sidebar-link">Registro useState</a></li><li class="sidebar-sub-header"><a href="/react-udemy/08-auth/#registro-y-login" class="sidebar-link">Registro y Login</a></li><li class="sidebar-sub-header"><a href="/react-udemy/08-auth/#firebase-registrar" class="sidebar-link">Firebase Registrar</a></li><li class="sidebar-sub-header"><a href="/react-udemy/08-auth/#firebase-login" class="sidebar-link">Firebase Login</a></li><li class="sidebar-sub-header"><a href="/react-udemy/08-auth/#push-rutas" class="sidebar-link">Push rutas</a></li><li class="sidebar-sub-header"><a href="/react-udemy/08-auth/#ruta-protegida" class="sidebar-link">Ruta protegida</a></li><li class="sidebar-sub-header"><a href="/react-udemy/08-auth/#firestore" class="sidebar-link">Firestore</a></li><li class="sidebar-sub-header"><a href="/react-udemy/08-auth/#deploy-firebase" class="sidebar-link">Deploy Firebase</a></li><li class="sidebar-sub-header"><a href="/react-udemy/08-auth/#reglas-de-seguridad-basicas" class="sidebar-link">Reglas de seguridad básicas</a></li><li class="sidebar-sub-header"><a href="/react-udemy/08-auth/#fechas" class="sidebar-link">Fechas</a></li><li class="sidebar-sub-header"><a href="/react-udemy/08-auth/#recuperar-contrasena" class="sidebar-link">Recuperar contraseña</a></li></ul></li><li><a href="/react-udemy/09-paginacion/" class="sidebar-link">09 Paginación Firestore</a></li><li><a href="/react-udemy/10-redux/" class="sidebar-link">10 Redux</a></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="_08-auth-email-pass"><a href="#_08-auth-email-pass" class="header-anchor">#</a> 08 Auth Email &amp; Pass</h1> <p>Vamos a construir una aplicación para registrar nuevos usuarios a través de email y contraseña. Este también es un servicio de Firebase.</p> <div class="custom-block tip"><p class="custom-block-title">CURSO EN UDEMY OFERTA!</p> <p>Aprende desde cero a trabajar con <b>React.js y Firebase</b> aquí: <a href="http://curso-react-js-udemy.bluuweb.cl/" target="_blank" rel="noopener noreferrer">http://curso-react-js-udemy.bluuweb.cl/<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> <b>Nos vemos en clases!</b></p></div> <h2 id="instalaciones"><a href="#instalaciones" class="header-anchor">#</a> Instalaciones</h2> <div class="language- extra-class"><pre class="language-text"><code>npx create-react-app login-udemy-1
</code></pre></div><div class="language- extra-class"><pre class="language-text"><code>npm i firebase
</code></pre></div><div class="language- extra-class"><pre class="language-text"><code>npm i react-router-dom
</code></pre></div><h2 id="firebase"><a href="#firebase" class="header-anchor">#</a> Firebase</h2> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> app <span class="token keyword">from</span> <span class="token string">'firebase/app'</span>
<span class="token keyword">import</span> <span class="token string">'firebase/firestore'</span>
<span class="token keyword">import</span> <span class="token string">'firebase/auth'</span>

<span class="token keyword">const</span> firebaseConfig <span class="token operator">=</span> <span class="token punctuation">{</span>
    apiKey<span class="token operator">:</span> <span class="token string">&quot;xxx&quot;</span><span class="token punctuation">,</span>
    authDomain<span class="token operator">:</span> <span class="token string">&quot;xxx&quot;</span><span class="token punctuation">,</span>
    databaseURL<span class="token operator">:</span> <span class="token string">&quot;xxx&quot;</span><span class="token punctuation">,</span>
    projectId<span class="token operator">:</span> <span class="token string">&quot;xxx&quot;</span><span class="token punctuation">,</span>
    storageBucket<span class="token operator">:</span> <span class="token string">&quot;xxx&quot;</span><span class="token punctuation">,</span>
    messagingSenderId<span class="token operator">:</span> <span class="token string">&quot;xxx&quot;</span><span class="token punctuation">,</span>
    appId<span class="token operator">:</span> <span class="token string">&quot;xxx&quot;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

app<span class="token punctuation">.</span><span class="token function">initializeApp</span><span class="token punctuation">(</span>firebaseConfig<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> db <span class="token operator">=</span> app<span class="token punctuation">.</span><span class="token function">firestore</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> auth <span class="token operator">=</span> app<span class="token punctuation">.</span><span class="token function">auth</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token punctuation">{</span>db<span class="token punctuation">,</span> auth<span class="token punctuation">}</span>
</code></pre></div><h2 id="rutas"><a href="#rutas" class="header-anchor">#</a> Rutas</h2> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">'react'</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span>BrowserRouter <span class="token keyword">as</span> Router<span class="token punctuation">,</span> Switch<span class="token punctuation">,</span> Route<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'react-router-dom'</span>

<span class="token keyword">const</span> <span class="token function-variable function">App</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>
        <span class="token operator">&lt;</span>Router<span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>div className<span class="token operator">=</span><span class="token string">&quot;container&quot;</span><span class="token operator">&gt;</span>
                navbar<span class="token operator">...</span>
                <span class="token operator">&lt;</span>Switch<span class="token operator">&gt;</span>
                    <span class="token operator">&lt;</span>Route path<span class="token operator">=</span><span class="token string">&quot;/login&quot;</span><span class="token operator">&gt;</span>
                        Ruta de login
                    <span class="token operator">&lt;</span><span class="token operator">/</span>Route<span class="token operator">&gt;</span>
                    <span class="token operator">&lt;</span>Route path<span class="token operator">=</span><span class="token string">&quot;/admin&quot;</span><span class="token operator">&gt;</span>
                        Ruta de administracion
                    <span class="token operator">&lt;</span><span class="token operator">/</span>Route<span class="token operator">&gt;</span>
                    <span class="token operator">&lt;</span>Route path<span class="token operator">=</span><span class="token string">&quot;/&quot;</span> exact<span class="token operator">&gt;</span>
                        Ruta de inicio
                    <span class="token operator">&lt;</span><span class="token operator">/</span>Route<span class="token operator">&gt;</span>
                <span class="token operator">&lt;</span><span class="token operator">/</span>Switch<span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>Router<span class="token operator">&gt;</span>
    <span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> App
</code></pre></div><h2 id="navbar"><a href="#navbar" class="header-anchor">#</a> Navbar</h2> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">'react'</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span>Link<span class="token punctuation">,</span> NavLink<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'react-router-dom'</span>

<span class="token keyword">const</span> <span class="token function-variable function">Navbar</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>
        <span class="token operator">&lt;</span>div className<span class="token operator">=</span><span class="token string">&quot;navbar navbar-dark bg-dark&quot;</span><span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>Link to<span class="token operator">=</span><span class="token string">&quot;/&quot;</span> className<span class="token operator">=</span><span class="token string">&quot;navbar-brand&quot;</span><span class="token operator">&gt;</span>React Admin<span class="token operator">&lt;</span><span class="token operator">/</span>Link<span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
                <span class="token operator">&lt;</span>div className<span class="token operator">=</span><span class="token string">&quot;d-flex&quot;</span><span class="token operator">&gt;</span>
                    <span class="token operator">&lt;</span>NavLink 
                        className<span class="token operator">=</span><span class="token string">&quot;btn btn-dark mr-2&quot;</span> 
                        to<span class="token operator">=</span><span class="token string">&quot;/&quot;</span>
                        exact
                    <span class="token operator">&gt;</span>
                        Inicio
                    <span class="token operator">&lt;</span><span class="token operator">/</span>NavLink<span class="token operator">&gt;</span>
                    <span class="token operator">&lt;</span>NavLink 
                        className<span class="token operator">=</span><span class="token string">&quot;btn btn-dark mr-2&quot;</span> 
                        to<span class="token operator">=</span><span class="token string">&quot;/admin&quot;</span>
                    <span class="token operator">&gt;</span>
                        Admin
                    <span class="token operator">&lt;</span><span class="token operator">/</span>NavLink<span class="token operator">&gt;</span>
                    <span class="token operator">&lt;</span>NavLink 
                        className<span class="token operator">=</span><span class="token string">&quot;btn btn-dark&quot;</span> 
                        to<span class="token operator">=</span><span class="token string">&quot;/login&quot;</span>
                    <span class="token operator">&gt;</span>
                        Login
                    <span class="token operator">&lt;</span><span class="token operator">/</span>NavLink<span class="token operator">&gt;</span>
                <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
    <span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> Navbar
</code></pre></div><h2 id="registro-estructura"><a href="#registro-estructura" class="header-anchor">#</a> Registro estructura</h2> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">'react'</span>

<span class="token keyword">const</span> <span class="token function-variable function">Login</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>
        <span class="token operator">&lt;</span>div className<span class="token operator">=</span><span class="token string">&quot;mt-5&quot;</span><span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>h3 className<span class="token operator">=</span><span class="token string">&quot;text-center&quot;</span><span class="token operator">&gt;</span>Acceso o Registro de usuarios<span class="token operator">&lt;</span><span class="token operator">/</span>h3<span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>hr<span class="token operator">/</span><span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>div className<span class="token operator">=</span><span class="token string">&quot;row justify-content-center&quot;</span><span class="token operator">&gt;</span>
                <span class="token operator">&lt;</span>div className<span class="token operator">=</span><span class="token string">&quot;col-12 col-sm-8 col-md-6 col-xl-4&quot;</span><span class="token operator">&gt;</span>
                    <span class="token operator">&lt;</span>form<span class="token operator">&gt;</span>
                        <span class="token operator">&lt;</span>input 
                            type<span class="token operator">=</span><span class="token string">&quot;email&quot;</span> 
                            className<span class="token operator">=</span><span class="token string">&quot;form-control mb-2&quot;</span>
                            placeholder<span class="token operator">=</span><span class="token string">&quot;Ingrese Email&quot;</span>
                        <span class="token operator">/</span><span class="token operator">&gt;</span>
                        <span class="token operator">&lt;</span>input 
                            type<span class="token operator">=</span><span class="token string">&quot;password&quot;</span> 
                            className<span class="token operator">=</span><span class="token string">&quot;form-control mb-2&quot;</span>
                            placeholder<span class="token operator">=</span><span class="token string">&quot;Ingrese Contraseña&quot;</span>
                        <span class="token operator">/</span><span class="token operator">&gt;</span>
                        <span class="token operator">&lt;</span>button 
                            className<span class="token operator">=</span><span class="token string">&quot;btn btn-lg btn-dark btn-block&quot;</span>
                            type<span class="token operator">=</span><span class="token string">&quot;submit&quot;</span>
                        <span class="token operator">&gt;</span>
                            Ingresar
                        <span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
                        <span class="token operator">&lt;</span>button 
                            className<span class="token operator">=</span><span class="token string">&quot;btn btn-sm btn-info btn-block&quot;</span>
                            type<span class="token operator">=</span><span class="token string">&quot;button&quot;</span>
                        <span class="token operator">&gt;</span>
                            ¿No tienes cuenta<span class="token operator">?</span>
                        <span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
                    <span class="token operator">&lt;</span><span class="token operator">/</span>form<span class="token operator">&gt;</span>
                <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
    <span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> Login

</code></pre></div><h2 id="registro-usestate"><a href="#registro-usestate" class="header-anchor">#</a> Registro useState</h2> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">'react'</span>

<span class="token keyword">const</span> <span class="token function-variable function">Login</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>

    <span class="token keyword">const</span> <span class="token punctuation">[</span>email<span class="token punctuation">,</span> setEmail<span class="token punctuation">]</span> <span class="token operator">=</span> React<span class="token punctuation">.</span><span class="token function">useState</span><span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">)</span>
    <span class="token keyword">const</span> <span class="token punctuation">[</span>pass<span class="token punctuation">,</span> setPass<span class="token punctuation">]</span> <span class="token operator">=</span> React<span class="token punctuation">.</span><span class="token function">useState</span><span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">)</span>
    <span class="token keyword">const</span> <span class="token punctuation">[</span>error<span class="token punctuation">,</span> setError<span class="token punctuation">]</span> <span class="token operator">=</span> React<span class="token punctuation">.</span><span class="token function">useState</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span>

    <span class="token keyword">const</span> <span class="token function-variable function">procesarDatos</span> <span class="token operator">=</span> <span class="token parameter">e</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        e<span class="token punctuation">.</span><span class="token function">preventDefault</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>email<span class="token punctuation">.</span><span class="token function">trim</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">||</span> <span class="token operator">!</span>pass<span class="token punctuation">.</span><span class="token function">trim</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Datos vacíos email!'</span><span class="token punctuation">)</span>
            <span class="token function">setError</span><span class="token punctuation">(</span><span class="token string">'Datos vacíos email!'</span><span class="token punctuation">)</span>
            <span class="token keyword">return</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>pass<span class="token punctuation">.</span><span class="token function">trim</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Datos vacíos pass!'</span><span class="token punctuation">)</span>
            <span class="token function">setError</span><span class="token punctuation">(</span><span class="token string">'Datos vacíos pass!'</span><span class="token punctuation">)</span>
            <span class="token keyword">return</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>pass<span class="token punctuation">.</span>length <span class="token operator">&lt;</span> <span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'6 o más carácteres'</span><span class="token punctuation">)</span>
            <span class="token function">setError</span><span class="token punctuation">(</span><span class="token string">'6 o más carácteres en pass'</span><span class="token punctuation">)</span>
            <span class="token keyword">return</span>
        <span class="token punctuation">}</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'correcto...'</span><span class="token punctuation">)</span>
        <span class="token function">setError</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span>

    <span class="token punctuation">}</span>

    <span class="token keyword">return</span> <span class="token punctuation">(</span>
        <span class="token operator">&lt;</span>div className<span class="token operator">=</span><span class="token string">&quot;mt-5&quot;</span><span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>h3 className<span class="token operator">=</span><span class="token string">&quot;text-center&quot;</span><span class="token operator">&gt;</span>Registro de usuarios<span class="token operator">&lt;</span><span class="token operator">/</span>h3<span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>hr<span class="token operator">/</span><span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>div className<span class="token operator">=</span><span class="token string">&quot;row justify-content-center&quot;</span><span class="token operator">&gt;</span>
                <span class="token operator">&lt;</span>div className<span class="token operator">=</span><span class="token string">&quot;col-12 col-sm-8 col-md-6 col-xl-4&quot;</span><span class="token operator">&gt;</span>
                    <span class="token operator">&lt;</span>form onSubmit<span class="token operator">=</span><span class="token punctuation">{</span>procesarDatos<span class="token punctuation">}</span><span class="token operator">&gt;</span>
                        <span class="token punctuation">{</span>
                            error <span class="token operator">?</span> <span class="token punctuation">(</span>
                                <span class="token operator">&lt;</span>div className<span class="token operator">=</span><span class="token string">&quot;alert alert-danger&quot;</span><span class="token operator">&gt;</span>
                                    <span class="token punctuation">{</span>error<span class="token punctuation">}</span>
                                <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
                            <span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token keyword">null</span>
                        <span class="token punctuation">}</span>
                        <span class="token operator">&lt;</span>input 
                            type<span class="token operator">=</span><span class="token string">&quot;email&quot;</span> 
                            className<span class="token operator">=</span><span class="token string">&quot;form-control mb-2&quot;</span>
                            placeholder<span class="token operator">=</span><span class="token string">&quot;Ingrese Email&quot;</span>
                            onChange<span class="token operator">=</span><span class="token punctuation">{</span> <span class="token parameter">e</span> <span class="token operator">=&gt;</span> <span class="token function">setEmail</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>target<span class="token punctuation">.</span>value<span class="token punctuation">)</span> <span class="token punctuation">}</span>
                            value<span class="token operator">=</span><span class="token punctuation">{</span>email<span class="token punctuation">}</span>
                        <span class="token operator">/</span><span class="token operator">&gt;</span>
                        <span class="token operator">&lt;</span>input 
                            type<span class="token operator">=</span><span class="token string">&quot;password&quot;</span> 
                            className<span class="token operator">=</span><span class="token string">&quot;form-control mb-2&quot;</span>
                            placeholder<span class="token operator">=</span><span class="token string">&quot;Ingrese Contraseña&quot;</span>
                            onChange<span class="token operator">=</span><span class="token punctuation">{</span> <span class="token parameter">e</span> <span class="token operator">=&gt;</span> <span class="token function">setPass</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>target<span class="token punctuation">.</span>value<span class="token punctuation">)</span> <span class="token punctuation">}</span>
                            value<span class="token operator">=</span><span class="token punctuation">{</span>pass<span class="token punctuation">}</span>
                        <span class="token operator">/</span><span class="token operator">&gt;</span>
                        <span class="token operator">&lt;</span>button 
                            className<span class="token operator">=</span><span class="token string">&quot;btn btn-lg btn-dark btn-block&quot;</span>
                            type<span class="token operator">=</span><span class="token string">&quot;submit&quot;</span>
                        <span class="token operator">&gt;</span>
                            Ingresar
                        <span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
                        <span class="token operator">&lt;</span>button 
                            className<span class="token operator">=</span><span class="token string">&quot;btn btn-sm btn-info btn-block&quot;</span>
                            type<span class="token operator">=</span><span class="token string">&quot;button&quot;</span>
                        <span class="token operator">&gt;</span>
                            ¿Ya tienes cuenta<span class="token operator">?</span>
                        <span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
                    <span class="token operator">&lt;</span><span class="token operator">/</span>form<span class="token operator">&gt;</span>
                <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
    <span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> Login

</code></pre></div><h2 id="registro-y-login"><a href="#registro-y-login" class="header-anchor">#</a> Registro y Login</h2> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token punctuation">[</span>esRegistro<span class="token punctuation">,</span> setEsRegistro<span class="token punctuation">]</span> <span class="token operator">=</span> React<span class="token punctuation">.</span><span class="token function">useState</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span>
</code></pre></div><div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h3</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>text-center<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    {
        esRegistro ? 'Registro' : 'Login'
    }
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h3</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>hr</span><span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>row justify-content-center<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>col-12 col-sm-8 col-md-6 col-xl-4<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>form</span> <span class="token attr-name">onSubmit</span><span class="token attr-value"><span class="token punctuation">=</span>{procesarDatos}</span><span class="token punctuation">&gt;</span></span>
            {
                error ? (
                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>alert alert-danger<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
                        {error}
                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
                ) : null
            }
            &lt;input 
                type=&quot;email&quot; 
                className=&quot;form-control mb-2&quot;
                placeholder=&quot;Ingrese Email&quot;
                onChange={ e =&gt; setEmail(e.target.value) }
                value={email}
            /&gt;
            &lt;input 
                type=&quot;password&quot; 
                className=&quot;form-control mb-2&quot;
                placeholder=&quot;Ingrese Contraseña&quot;
                onChange={ e =&gt; setPass(e.target.value) }
                value={pass}
            /&gt;
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> 
                <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>btn btn-lg btn-dark btn-block<span class="token punctuation">&quot;</span></span>
                <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>submit<span class="token punctuation">&quot;</span></span>
            <span class="token punctuation">&gt;</span></span>
                {esRegistro ? 'Registrar' : 'Acceder'}
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
            &lt;button 
                className=&quot;btn btn-sm btn-info btn-block&quot;
                type=&quot;button&quot;
                onClick={() =&gt; setEsRegistro(!esRegistro)}
            &gt;
                {esRegistro ? '¿Ya tienes cuenta?' : '¿No tienes cuenta?'}
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>form</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h2 id="firebase-registrar"><a href="#firebase-registrar" class="header-anchor">#</a> Firebase Registrar</h2> <p><a href="https://firebase.google.com/docs/auth/web/password-auth?hl=es" target="_blank" rel="noopener noreferrer">https://firebase.google.com/docs/auth/web/password-auth?hl=es<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> <span class="token punctuation">{</span>db<span class="token punctuation">,</span> auth<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'../firebase'</span>

<span class="token comment">// después de pasar validaciones de datos...</span>
<span class="token keyword">if</span><span class="token punctuation">(</span>esRegistro<span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token function">registrar</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token comment">// Función externa</span>
<span class="token keyword">const</span> registrar <span class="token operator">=</span> React<span class="token punctuation">.</span><span class="token function">useCallback</span><span class="token punctuation">(</span><span class="token keyword">async</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">try</span> <span class="token punctuation">{</span>
        <span class="token keyword">const</span> res <span class="token operator">=</span> <span class="token keyword">await</span> auth<span class="token punctuation">.</span><span class="token function">createUserWithEmailAndPassword</span><span class="token punctuation">(</span>email<span class="token punctuation">,</span> pass<span class="token punctuation">)</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res<span class="token punctuation">.</span>user<span class="token punctuation">)</span>
        <span class="token keyword">await</span> db<span class="token punctuation">.</span><span class="token function">collection</span><span class="token punctuation">(</span><span class="token string">'usuarios'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">doc</span><span class="token punctuation">(</span>res<span class="token punctuation">.</span>user<span class="token punctuation">.</span>uid<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
            fechaCreacion<span class="token operator">:</span> Date<span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
            displayName<span class="token operator">:</span> res<span class="token punctuation">.</span>user<span class="token punctuation">.</span>displayName<span class="token punctuation">,</span>
            photoURL<span class="token operator">:</span> res<span class="token punctuation">.</span>user<span class="token punctuation">.</span>photoURL<span class="token punctuation">,</span>
            email<span class="token operator">:</span> res<span class="token punctuation">.</span>user<span class="token punctuation">.</span>email<span class="token punctuation">,</span>
            uid<span class="token operator">:</span> res<span class="token punctuation">.</span>user<span class="token punctuation">.</span>uid
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
        <span class="token function">setEmail</span><span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">)</span>
        <span class="token function">setPass</span><span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">)</span>
        <span class="token function">setError</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span>
        props<span class="token punctuation">.</span>history<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token string">'/admin'</span><span class="token punctuation">)</span> 
    <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>error<span class="token punctuation">)</span>
        <span class="token comment">// setError(error.message)</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>error<span class="token punctuation">.</span>code <span class="token operator">===</span> <span class="token string">'auth/email-already-in-use'</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token function">setError</span><span class="token punctuation">(</span><span class="token string">'Usuario ya registrado...'</span><span class="token punctuation">)</span>
            <span class="token keyword">return</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>error<span class="token punctuation">.</span>code <span class="token operator">===</span> <span class="token string">'auth/invalid-email'</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token function">setError</span><span class="token punctuation">(</span><span class="token string">'Email no válido'</span><span class="token punctuation">)</span>
            <span class="token keyword">return</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>email<span class="token punctuation">,</span> pass<span class="token punctuation">,</span> props<span class="token punctuation">.</span>history<span class="token punctuation">]</span><span class="token punctuation">)</span>
</code></pre></div><h2 id="firebase-login"><a href="#firebase-login" class="header-anchor">#</a> Firebase Login</h2> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>esRegistro<span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token function">login</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token comment">// Función externa</span>
<span class="token keyword">const</span> login <span class="token operator">=</span> React<span class="token punctuation">.</span><span class="token function">useCallback</span><span class="token punctuation">(</span><span class="token keyword">async</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">try</span> <span class="token punctuation">{</span>
        <span class="token keyword">await</span> auth<span class="token punctuation">.</span><span class="token function">signInWithEmailAndPassword</span><span class="token punctuation">(</span>email<span class="token punctuation">,</span> pass<span class="token punctuation">)</span>  
        <span class="token function">setEmail</span><span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">)</span>
        <span class="token function">setPass</span><span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">)</span>
        <span class="token function">setError</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span>
        props<span class="token punctuation">.</span>history<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token string">'/admin'</span><span class="token punctuation">)</span> 
    <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>error<span class="token punctuation">.</span>code <span class="token operator">===</span> <span class="token string">'auth/user-not-found'</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token function">setError</span><span class="token punctuation">(</span><span class="token string">'Usuario o contraseña incorrecta'</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>error<span class="token punctuation">.</span>code <span class="token operator">===</span> <span class="token string">'auth/wrong-password'</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token function">setError</span><span class="token punctuation">(</span><span class="token string">'Usuario o contraseña incorrecta'</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>error<span class="token punctuation">.</span>code<span class="token punctuation">)</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>error<span class="token punctuation">.</span>message<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>email<span class="token punctuation">,</span> pass<span class="token punctuation">,</span> props<span class="token punctuation">.</span>history<span class="token punctuation">]</span><span class="token punctuation">)</span>
</code></pre></div><h2 id="push-rutas"><a href="#push-rutas" class="header-anchor">#</a> Push rutas</h2> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// Importar</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> withRouter <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;react-router-dom&quot;</span><span class="token punctuation">;</span>

<span class="token comment">// Envolver</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">withRouter</span><span class="token punctuation">(</span>Login<span class="token punctuation">)</span>

<span class="token comment">// Utilizar props</span>
<span class="token keyword">const</span> <span class="token function-variable function">Login</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><span class="token operator">...</span><span class="token punctuation">}</span>

<span class="token comment">// Push</span>
props<span class="token punctuation">.</span>history<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token string">'/admin'</span><span class="token punctuation">)</span>
</code></pre></div><h2 id="ruta-protegida"><a href="#ruta-protegida" class="header-anchor">#</a> Ruta protegida</h2> <h4 id="estructura"><a href="#estructura" class="header-anchor">#</a> Estructura</h4> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">'react'</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> withRouter <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;react-router-dom&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span>auth<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'../firebase'</span>

<span class="token keyword">const</span> <span class="token function-variable function">Admin</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>

    <span class="token keyword">return</span> <span class="token punctuation">(</span>
        <span class="token operator">&lt;</span>div className<span class="token operator">=</span><span class="token string">&quot;mt-5&quot;</span><span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>h3 className<span class="token operator">=</span><span class="token string">&quot;text-center&quot;</span><span class="token operator">&gt;</span>Ruta protegida<span class="token operator">&lt;</span><span class="token operator">/</span>h3<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
    <span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">withRouter</span><span class="token punctuation">(</span>Admin<span class="token punctuation">)</span>
</code></pre></div><h4 id="useeffect"><a href="#useeffect" class="header-anchor">#</a> useEffect</h4> <p>currentUser: nos trae la información del usuario
<a href="https://firebase.google.com/docs/auth/web/manage-users#get_the_currently_signed-in_user" target="_blank" rel="noopener noreferrer">https://firebase.google.com/docs/auth/web/manage-users#get_the_currently_signed-in_user<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">'react'</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> withRouter <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;react-router-dom&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span>auth<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'../firebase'</span>

<span class="token keyword">const</span> <span class="token function-variable function">Admin</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>

    <span class="token keyword">const</span> <span class="token punctuation">[</span>user<span class="token punctuation">,</span> setUser<span class="token punctuation">]</span> <span class="token operator">=</span> React<span class="token punctuation">.</span><span class="token function">useState</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span>

    React<span class="token punctuation">.</span><span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>auth<span class="token punctuation">.</span>currentUser<span class="token punctuation">)</span><span class="token punctuation">{</span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'existe'</span><span class="token punctuation">)</span>
            <span class="token function">setUser</span><span class="token punctuation">(</span>auth<span class="token punctuation">.</span>currentUser<span class="token punctuation">)</span>
        <span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{</span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'no existe'</span><span class="token punctuation">)</span>
            props<span class="token punctuation">.</span>history<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token string">'/login'</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>props<span class="token punctuation">.</span>history<span class="token punctuation">]</span><span class="token punctuation">)</span>


    <span class="token keyword">return</span> <span class="token punctuation">(</span>
        <span class="token operator">&lt;</span>div className<span class="token operator">=</span><span class="token string">&quot;mt-5&quot;</span><span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>h3 className<span class="token operator">=</span><span class="token string">&quot;text-center&quot;</span><span class="token operator">&gt;</span>Ruta protegida<span class="token operator">&lt;</span><span class="token operator">/</span>h3<span class="token operator">&gt;</span>
            <span class="token punctuation">{</span>
                user <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>
                    <span class="token operator">&lt;</span>p<span class="token operator">&gt;</span><span class="token punctuation">{</span>user<span class="token punctuation">.</span>email<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">&gt;</span>
                <span class="token punctuation">)</span>
            <span class="token punctuation">}</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
    <span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">withRouter</span><span class="token punctuation">(</span>Admin<span class="token punctuation">)</span>
</code></pre></div><h4 id="app-jsx-detectar-usuario"><a href="#app-jsx-detectar-usuario" class="header-anchor">#</a> App.jsx (detectar usuario)</h4> <p>onAuthStateChanged: va evaluando si existe el usuario, por lo tanto si se cierra sesión se vuelve a ejecutar onAuthStateChanged()</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// Recuerde hacer la importación de firebase</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span>auth <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'./firebase'</span>

<span class="token keyword">const</span> <span class="token punctuation">[</span>firebaseUser<span class="token punctuation">,</span> setFirebaseUser<span class="token punctuation">]</span> <span class="token operator">=</span> React<span class="token punctuation">.</span><span class="token function">useState</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span>

React<span class="token punctuation">.</span><span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    auth<span class="token punctuation">.</span><span class="token function">onAuthStateChanged</span><span class="token punctuation">(</span><span class="token parameter">user</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>user<span class="token punctuation">)</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>user<span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token function">setFirebaseUser</span><span class="token punctuation">(</span>user<span class="token punctuation">)</span>
        <span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{</span>
            <span class="token function">setFirebaseUser</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span>

<span class="token keyword">return</span> firebaseUser <span class="token operator">!==</span> <span class="token boolean">false</span> <span class="token operator">?</span> <span class="token punctuation">(</span>
    <span class="token operator">&lt;</span>Router<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>div className<span class="token operator">=</span><span class="token string">&quot;container&quot;</span><span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>Navbar firebaseUser<span class="token operator">=</span><span class="token punctuation">{</span>firebaseUser<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>Switch<span class="token operator">&gt;</span>
                <span class="token operator">&lt;</span>Route path<span class="token operator">=</span><span class="token string">&quot;/login&quot;</span><span class="token operator">&gt;</span>
                    <span class="token operator">&lt;</span>Login <span class="token operator">/</span><span class="token operator">&gt;</span>
                <span class="token operator">&lt;</span><span class="token operator">/</span>Route<span class="token operator">&gt;</span>
                <span class="token operator">&lt;</span>Route path<span class="token operator">=</span><span class="token string">&quot;/admin&quot;</span><span class="token operator">&gt;</span>
                    <span class="token operator">&lt;</span>Admin <span class="token operator">/</span><span class="token operator">&gt;</span>
                <span class="token operator">&lt;</span><span class="token operator">/</span>Route<span class="token operator">&gt;</span>
                <span class="token operator">&lt;</span>Route path<span class="token operator">=</span><span class="token string">&quot;/&quot;</span> exact<span class="token operator">&gt;</span>
                    Ruta de inicio
                <span class="token operator">&lt;</span><span class="token operator">/</span>Route<span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span><span class="token operator">/</span>Switch<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>Router<span class="token operator">&gt;</span>
<span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token punctuation">(</span>
    <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>Cargando<span class="token operator">...</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="token punctuation">)</span>
</code></pre></div><h4 id="navbar-cerrar-sesion-y-ocultar-admin"><a href="#navbar-cerrar-sesion-y-ocultar-admin" class="header-anchor">#</a> Navbar cerrar sesión y ocultar &quot;admin&quot;</h4> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">'react'</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span>Link<span class="token punctuation">,</span> NavLink<span class="token punctuation">,</span> withRouter<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'react-router-dom'</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span>auth<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'../firebase'</span>

<span class="token keyword">const</span> <span class="token function-variable function">Navbar</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>

    <span class="token keyword">const</span> <span class="token function-variable function">cerrarSesion</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        auth<span class="token punctuation">.</span><span class="token function">signOut</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
                props<span class="token punctuation">.</span>history<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token string">'/login'</span><span class="token punctuation">)</span>
            <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">return</span> <span class="token punctuation">(</span>
        <span class="token operator">&lt;</span>div className<span class="token operator">=</span><span class="token string">&quot;navbar navbar-dark bg-dark&quot;</span><span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>Link to<span class="token operator">=</span><span class="token string">&quot;/&quot;</span> className<span class="token operator">=</span><span class="token string">&quot;navbar-brand&quot;</span><span class="token operator">&gt;</span>React Admin<span class="token operator">&lt;</span><span class="token operator">/</span>Link<span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
                <span class="token operator">&lt;</span>div className<span class="token operator">=</span><span class="token string">&quot;d-flex&quot;</span><span class="token operator">&gt;</span>
                    <span class="token operator">&lt;</span>NavLink 
                        className<span class="token operator">=</span><span class="token string">&quot;btn btn-dark mr-2&quot;</span> 
                        to<span class="token operator">=</span><span class="token string">&quot;/&quot;</span>
                        exact
                    <span class="token operator">&gt;</span>
                        Inicio
                    <span class="token operator">&lt;</span><span class="token operator">/</span>NavLink<span class="token operator">&gt;</span>
                    <span class="token punctuation">{</span>
                        props<span class="token punctuation">.</span>firebaseUser <span class="token operator">!==</span> <span class="token keyword">null</span> <span class="token operator">?</span> <span class="token punctuation">(</span>
                            <span class="token operator">&lt;</span>NavLink 
                                className<span class="token operator">=</span><span class="token string">&quot;btn btn-dark mr-2&quot;</span> 
                                to<span class="token operator">=</span><span class="token string">&quot;/admin&quot;</span>
                            <span class="token operator">&gt;</span>
                                Admin
                            <span class="token operator">&lt;</span><span class="token operator">/</span>NavLink<span class="token operator">&gt;</span>
                        <span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token keyword">null</span>
                    <span class="token punctuation">}</span>
                    <span class="token punctuation">{</span>
                        props<span class="token punctuation">.</span>firebaseUser <span class="token operator">!==</span> <span class="token keyword">null</span> <span class="token operator">?</span> <span class="token punctuation">(</span>
                        <span class="token operator">&lt;</span>button 
                            className<span class="token operator">=</span><span class="token string">&quot;btn btn-dark&quot;</span> 
                            onClick<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">cerrarSesion</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span>
                        <span class="token operator">&gt;</span>
                            Cerrar Sesión
                        <span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
                        <span class="token punctuation">)</span><span class="token operator">:</span> <span class="token punctuation">(</span>
                        <span class="token operator">&lt;</span>NavLink 
                            className<span class="token operator">=</span><span class="token string">&quot;btn btn-dark&quot;</span> 
                            to<span class="token operator">=</span><span class="token string">&quot;/login&quot;</span>
                        <span class="token operator">&gt;</span>
                            Login
                        <span class="token operator">&lt;</span><span class="token operator">/</span>NavLink<span class="token operator">&gt;</span>
                        <span class="token punctuation">)</span>
                    <span class="token punctuation">}</span>
                <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
    <span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">withRouter</span><span class="token punctuation">(</span>Navbar<span class="token punctuation">)</span>
</code></pre></div><h2 id="firestore"><a href="#firestore" class="header-anchor">#</a> Firestore</h2> <p>Al agregar un usuario configurar nueva collection</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">await</span> db<span class="token punctuation">.</span><span class="token function">collection</span><span class="token punctuation">(</span>res<span class="token punctuation">.</span>user<span class="token punctuation">.</span>uid<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token punctuation">{</span>name<span class="token operator">:</span> <span class="token string">'Tarea de ejemplo #1'</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><p>Crear un componente nuevo y agregarlo al Admin</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&lt;</span>div className<span class="token operator">=</span><span class="token string">&quot;mt-5&quot;</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>h3 className<span class="token operator">=</span><span class="token string">&quot;text-center&quot;</span><span class="token operator">&gt;</span>Ruta protegida<span class="token operator">&lt;</span><span class="token operator">/</span>h3<span class="token operator">&gt;</span>
        <span class="token punctuation">{</span>
            user <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>
                <span class="token operator">&lt;</span>Firestore user<span class="token operator">=</span><span class="token punctuation">{</span>user<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
            <span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="token punctuation">)</span>
</code></pre></div><p>Utilizar el ejercicio de CRUD Firestore en el nuevo componente</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">'react'</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span>firebase<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'../firebase'</span>

<span class="token keyword">const</span> <span class="token function-variable function">Firestore</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>

    <span class="token keyword">const</span> <span class="token punctuation">[</span>tareas<span class="token punctuation">,</span> setTareas<span class="token punctuation">]</span> <span class="token operator">=</span> React<span class="token punctuation">.</span><span class="token function">useState</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
    <span class="token keyword">const</span> <span class="token punctuation">[</span>tarea<span class="token punctuation">,</span> setTarea<span class="token punctuation">]</span> <span class="token operator">=</span> React<span class="token punctuation">.</span><span class="token function">useState</span><span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">)</span>
    <span class="token keyword">const</span> <span class="token punctuation">[</span>modoEdicion<span class="token punctuation">,</span> setModoEdicion<span class="token punctuation">]</span> <span class="token operator">=</span> React<span class="token punctuation">.</span><span class="token function">useState</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span>
    <span class="token keyword">const</span> <span class="token punctuation">[</span>id<span class="token punctuation">,</span> setId<span class="token punctuation">]</span> <span class="token operator">=</span> React<span class="token punctuation">.</span><span class="token function">useState</span><span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">)</span>
  
  
    React<span class="token punctuation">.</span><span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  
      <span class="token keyword">const</span> <span class="token function-variable function">obtenerDatos</span> <span class="token operator">=</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  
        <span class="token keyword">try</span> <span class="token punctuation">{</span>
  
          <span class="token keyword">const</span> db <span class="token operator">=</span> firebase<span class="token punctuation">.</span><span class="token function">firestore</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
          <span class="token keyword">const</span> data <span class="token operator">=</span> <span class="token keyword">await</span> db<span class="token punctuation">.</span><span class="token function">collection</span><span class="token punctuation">(</span><span class="token string">'tareas'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
          <span class="token keyword">const</span> arrayData <span class="token operator">=</span> data<span class="token punctuation">.</span>docs<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token parameter">doc</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span><span class="token punctuation">{</span> id<span class="token operator">:</span> doc<span class="token punctuation">.</span>id<span class="token punctuation">,</span> <span class="token operator">...</span>doc<span class="token punctuation">.</span><span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
          console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arrayData<span class="token punctuation">)</span>
          <span class="token function">setTareas</span><span class="token punctuation">(</span>arrayData<span class="token punctuation">)</span>
          
        <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span>
          console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>error<span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
  
      <span class="token punctuation">}</span>
  
      <span class="token function">obtenerDatos</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  
    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
  
    <span class="token keyword">const</span> <span class="token function-variable function">agregar</span> <span class="token operator">=</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      e<span class="token punctuation">.</span><span class="token function">preventDefault</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  
      <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>tarea<span class="token punctuation">.</span><span class="token function">trim</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'está vacio'</span><span class="token punctuation">)</span>
        <span class="token keyword">return</span>
      <span class="token punctuation">}</span>
  
      <span class="token keyword">try</span> <span class="token punctuation">{</span>
  
        <span class="token keyword">const</span> db <span class="token operator">=</span> firebase<span class="token punctuation">.</span><span class="token function">firestore</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token keyword">const</span> nuevaTarea <span class="token operator">=</span> <span class="token punctuation">{</span>
          name<span class="token operator">:</span> tarea<span class="token punctuation">,</span>
          fecha<span class="token operator">:</span> Date<span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">const</span> data <span class="token operator">=</span> <span class="token keyword">await</span> db<span class="token punctuation">.</span><span class="token function">collection</span><span class="token punctuation">(</span><span class="token string">'tareas'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>nuevaTarea<span class="token punctuation">)</span>
  
        <span class="token function">setTareas</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
          <span class="token operator">...</span>tareas<span class="token punctuation">,</span>
          <span class="token punctuation">{</span><span class="token operator">...</span>nuevaTarea<span class="token punctuation">,</span> id<span class="token operator">:</span> data<span class="token punctuation">.</span>id<span class="token punctuation">}</span>
        <span class="token punctuation">]</span><span class="token punctuation">)</span>
  
        <span class="token function">setTarea</span><span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">)</span>
        
      <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>error<span class="token punctuation">)</span>
      <span class="token punctuation">}</span>
  
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>tarea<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  
    <span class="token keyword">const</span> <span class="token function-variable function">eliminar</span> <span class="token operator">=</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token parameter">id</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token keyword">try</span> <span class="token punctuation">{</span>
        
        <span class="token keyword">const</span> db <span class="token operator">=</span> firebase<span class="token punctuation">.</span><span class="token function">firestore</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token keyword">await</span> db<span class="token punctuation">.</span><span class="token function">collection</span><span class="token punctuation">(</span><span class="token string">'tareas'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">doc</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">delete</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  
        <span class="token keyword">const</span> arrayFiltrado <span class="token operator">=</span> tareas<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token parameter">item</span> <span class="token operator">=&gt;</span> item<span class="token punctuation">.</span>id <span class="token operator">!==</span> id<span class="token punctuation">)</span>
        <span class="token function">setTareas</span><span class="token punctuation">(</span>arrayFiltrado<span class="token punctuation">)</span>
  
      <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>error<span class="token punctuation">)</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  
    <span class="token keyword">const</span> <span class="token function-variable function">activarEdicion</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">item</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token function">setModoEdicion</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span>
      <span class="token function">setTarea</span><span class="token punctuation">(</span>item<span class="token punctuation">.</span>name<span class="token punctuation">)</span>
      <span class="token function">setId</span><span class="token punctuation">(</span>item<span class="token punctuation">.</span>id<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  
    <span class="token keyword">const</span> <span class="token function-variable function">editar</span> <span class="token operator">=</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      e<span class="token punctuation">.</span><span class="token function">preventDefault</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
      <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>tarea<span class="token punctuation">.</span><span class="token function">trim</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'vacio'</span><span class="token punctuation">)</span>
        <span class="token keyword">return</span>
      <span class="token punctuation">}</span>
      <span class="token keyword">try</span> <span class="token punctuation">{</span>
        
        <span class="token keyword">const</span> db <span class="token operator">=</span> firebase<span class="token punctuation">.</span><span class="token function">firestore</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token keyword">await</span> db<span class="token punctuation">.</span><span class="token function">collection</span><span class="token punctuation">(</span><span class="token string">'tareas'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">doc</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">update</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
          name<span class="token operator">:</span> tarea
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
        <span class="token keyword">const</span> arrayEditado <span class="token operator">=</span> tareas<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token parameter">item</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span>
          item<span class="token punctuation">.</span>id <span class="token operator">===</span> id <span class="token operator">?</span> <span class="token punctuation">{</span>id<span class="token operator">:</span> item<span class="token punctuation">.</span>id<span class="token punctuation">,</span> fecha<span class="token operator">:</span> item<span class="token punctuation">.</span>fecha<span class="token punctuation">,</span> name<span class="token operator">:</span> tarea<span class="token punctuation">}</span> <span class="token operator">:</span> item
        <span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token function">setTareas</span><span class="token punctuation">(</span>arrayEditado<span class="token punctuation">)</span>
        <span class="token function">setModoEdicion</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span>
        <span class="token function">setTarea</span><span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">)</span>
        <span class="token function">setId</span><span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>error<span class="token punctuation">)</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">return</span> <span class="token punctuation">(</span>
        <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>div className<span class="token operator">=</span><span class="token string">&quot;row&quot;</span><span class="token operator">&gt;</span>
                <span class="token operator">&lt;</span>div className<span class="token operator">=</span><span class="token string">&quot;col-md-6&quot;</span><span class="token operator">&gt;</span>
                    <span class="token operator">&lt;</span>h3<span class="token operator">&gt;</span>Lista de tareas<span class="token operator">&lt;</span><span class="token operator">/</span>h3<span class="token operator">&gt;</span>
                    <span class="token operator">&lt;</span>ul className<span class="token operator">=</span><span class="token string">&quot;list-group&quot;</span><span class="token operator">&gt;</span>
                        <span class="token punctuation">{</span>
                        tareas<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token parameter">item</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span>
                            <span class="token operator">&lt;</span>li className<span class="token operator">=</span><span class="token string">&quot;list-group-item&quot;</span> key<span class="token operator">=</span><span class="token punctuation">{</span>item<span class="token punctuation">.</span>id<span class="token punctuation">}</span><span class="token operator">&gt;</span>
                            <span class="token punctuation">{</span>item<span class="token punctuation">.</span>name<span class="token punctuation">}</span>
                            <span class="token operator">&lt;</span>button 
                                className<span class="token operator">=</span><span class="token string">&quot;btn btn-danger btn-sm float-right&quot;</span>
                                onClick<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">eliminar</span><span class="token punctuation">(</span>item<span class="token punctuation">.</span>id<span class="token punctuation">)</span><span class="token punctuation">}</span>
                            <span class="token operator">&gt;</span>
                                Eliminar
                            <span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
                            <span class="token operator">&lt;</span>button 
                                className<span class="token operator">=</span><span class="token string">&quot;btn btn-warning btn-sm float-right mr-2&quot;</span>
                                onClick<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">activarEdicion</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span><span class="token punctuation">}</span>
                            <span class="token operator">&gt;</span>
                                Editar
                            <span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
                            <span class="token operator">&lt;</span><span class="token operator">/</span>li<span class="token operator">&gt;</span>
                        <span class="token punctuation">)</span><span class="token punctuation">)</span>
                        <span class="token punctuation">}</span>
                    <span class="token operator">&lt;</span><span class="token operator">/</span>ul<span class="token operator">&gt;</span>
                <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
                <span class="token operator">&lt;</span>div className<span class="token operator">=</span><span class="token string">&quot;col-md-6&quot;</span><span class="token operator">&gt;</span>
                    <span class="token operator">&lt;</span>h3<span class="token operator">&gt;</span>
                        <span class="token punctuation">{</span>
                        modoEdicion <span class="token operator">?</span> <span class="token string">'Editar Tarea'</span> <span class="token operator">:</span> <span class="token string">'Agregar Tarea'</span>
                        <span class="token punctuation">}</span>
                    <span class="token operator">&lt;</span><span class="token operator">/</span>h3<span class="token operator">&gt;</span>
                    <span class="token operator">&lt;</span>form onSubmit<span class="token operator">=</span><span class="token punctuation">{</span>modoEdicion <span class="token operator">?</span> editar <span class="token operator">:</span> agregar<span class="token punctuation">}</span><span class="token operator">&gt;</span>
                        <span class="token operator">&lt;</span>input 
                        type<span class="token operator">=</span><span class="token string">&quot;text&quot;</span>
                        placeholder<span class="token operator">=</span><span class="token string">&quot;Ingrese tarea&quot;</span>
                        className<span class="token operator">=</span><span class="token string">&quot;form-control mb-2&quot;</span>
                        onChange<span class="token operator">=</span><span class="token punctuation">{</span><span class="token parameter">e</span> <span class="token operator">=&gt;</span> <span class="token function">setTarea</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>target<span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token punctuation">}</span>
                        value<span class="token operator">=</span><span class="token punctuation">{</span>tarea<span class="token punctuation">}</span>
                        <span class="token operator">/</span><span class="token operator">&gt;</span>
                        <span class="token operator">&lt;</span>button 
                        className<span class="token operator">=</span><span class="token punctuation">{</span>
                            modoEdicion <span class="token operator">?</span> <span class="token string">'btn btn-warning btn-block'</span> <span class="token operator">:</span> <span class="token string">'btn btn-dark btn-block'</span>
                        <span class="token punctuation">}</span>
                        type<span class="token operator">=</span><span class="token string">&quot;submit&quot;</span>
                        <span class="token operator">&gt;</span>
                        <span class="token punctuation">{</span>
                            modoEdicion <span class="token operator">?</span> <span class="token string">'Editar'</span> <span class="token operator">:</span> <span class="token string">'Agregar'</span>
                        <span class="token punctuation">}</span>
                        <span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
                    <span class="token operator">&lt;</span><span class="token operator">/</span>form<span class="token operator">&gt;</span>
                <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span> 
        <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
    <span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> Firestore
</code></pre></div><h2 id="deploy-firebase"><a href="#deploy-firebase" class="header-anchor">#</a> Deploy Firebase</h2> <p>Antes compilar nuestra aplicación con:</p> <div class="language- extra-class"><pre class="language-text"><code>npm run build
</code></pre></div><p>Instalar herramientas de firebase solo una vez por computador:</p> <div class="language- extra-class"><pre class="language-text"><code>npm install -g firebase-tools
</code></pre></div><p>Acceder</p> <div class="language- extra-class"><pre class="language-text"><code>firebase login
</code></pre></div><p>Iniciar</p> <div class="language- extra-class"><pre class="language-text"><code>firebase init
</code></pre></div><p>Subir</p> <div class="language- extra-class"><pre class="language-text"><code>firebase deploy
</code></pre></div><h2 id="reglas-de-seguridad-basicas"><a href="#reglas-de-seguridad-basicas" class="header-anchor">#</a> Reglas de seguridad básicas</h2> <p><a href="https://firebase.google.com/docs/rules/basics?authuser=0#all_authenticated_users" target="_blank" rel="noopener noreferrer">https://firebase.google.com/docs/rules/basics?authuser=0#all_authenticated_users<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <div class="language- extra-class"><pre class="language-text"><code>service cloud.firestore {
  match /databases/{database}/documents {
    match /{document=**} {
      allow read, write: if request.auth.uid != null;
    }
  }
}
</code></pre></div><h2 id="fechas"><a href="#fechas" class="header-anchor">#</a> Fechas</h2> <p>Agregaremos momentjs para formatear fechas de una forma sencilla.
<a href="https://momentjs.com/" target="_blank" rel="noopener noreferrer">https://momentjs.com/<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <div class="language- extra-class"><pre class="language-text"><code>npm install moment --save
</code></pre></div><div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> moment <span class="token keyword">from</span> <span class="token string">'moment'</span>
<span class="token keyword">import</span> <span class="token string">'moment/locale/es'</span> <span class="token comment">// Pasar a español</span>
</code></pre></div><div class="language-js extra-class"><pre class="language-js"><code><span class="token punctuation">{</span>item<span class="token punctuation">.</span>name<span class="token punctuation">}</span> <span class="token operator">-</span> <span class="token punctuation">{</span> <span class="token function">moment</span><span class="token punctuation">(</span>item<span class="token punctuation">.</span>fecha<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">'MMMM Do YYYY, h:mm:ss a'</span><span class="token punctuation">)</span> <span class="token punctuation">}</span>
</code></pre></div><h2 id="recuperar-contrasena"><a href="#recuperar-contrasena" class="header-anchor">#</a> Recuperar contraseña</h2> <p><a href="https://firebase.google.com/docs/auth/web/manage-users?authuser=0#send_a_password_reset_email" target="_blank" rel="noopener noreferrer">https://firebase.google.com/docs/auth/web/manage-users?authuser=0#send_a_password_reset_email<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>
Agregar botón en login:</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token punctuation">{</span>
    <span class="token operator">!</span>esRegistro <span class="token operator">?</span> <span class="token punctuation">(</span>
        <span class="token operator">&lt;</span>button 
            className<span class="token operator">=</span><span class="token string">&quot;btn btn-sm btn-info btn-danger&quot;</span>
            type<span class="token operator">=</span><span class="token string">&quot;button&quot;</span>
            onClick<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> props<span class="token punctuation">.</span>history<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token string">'/reset'</span><span class="token punctuation">)</span><span class="token punctuation">}</span>
        <span class="token operator">&gt;</span>
            Perdí mi contraseña
        <span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>

    <span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">null</span>
<span class="token punctuation">}</span>
</code></pre></div><p>Componente Reset</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">'react'</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span>auth<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'../firebase'</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span>withRouter<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'react-router-dom'</span>

<span class="token keyword">const</span> <span class="token function-variable function">ResetPass</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>

    <span class="token keyword">const</span> <span class="token punctuation">[</span>email<span class="token punctuation">,</span> setEmail<span class="token punctuation">]</span> <span class="token operator">=</span> React<span class="token punctuation">.</span><span class="token function">useState</span><span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">)</span>
    <span class="token keyword">const</span> <span class="token punctuation">[</span>error<span class="token punctuation">,</span> setError<span class="token punctuation">]</span> <span class="token operator">=</span> React<span class="token punctuation">.</span><span class="token function">useState</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span>

    <span class="token keyword">const</span> <span class="token function-variable function">procesarDatos</span> <span class="token operator">=</span> <span class="token parameter">e</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        e<span class="token punctuation">.</span><span class="token function">preventDefault</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>email<span class="token punctuation">.</span><span class="token function">trim</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Datos vacíos email!'</span><span class="token punctuation">)</span>
            <span class="token function">setError</span><span class="token punctuation">(</span><span class="token string">'Datos vacíos email!'</span><span class="token punctuation">)</span>
            <span class="token keyword">return</span>
        <span class="token punctuation">}</span>
        <span class="token function">setError</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span>

        <span class="token function">recuperar</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

    <span class="token punctuation">}</span>

    <span class="token keyword">const</span> recuperar <span class="token operator">=</span> React<span class="token punctuation">.</span><span class="token function">useCallback</span><span class="token punctuation">(</span>
        <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            <span class="token keyword">try</span> <span class="token punctuation">{</span>
                <span class="token keyword">await</span> auth<span class="token punctuation">.</span><span class="token function">sendPasswordResetEmail</span><span class="token punctuation">(</span>email<span class="token punctuation">)</span>
                props<span class="token punctuation">.</span>history<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token string">'/login'</span><span class="token punctuation">)</span>
            <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>error<span class="token punctuation">)</span>
                <span class="token function">setError</span><span class="token punctuation">(</span>error<span class="token punctuation">.</span>message<span class="token punctuation">)</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">[</span>email<span class="token punctuation">,</span> props<span class="token punctuation">.</span>history<span class="token punctuation">]</span><span class="token punctuation">)</span>

    <span class="token keyword">return</span> <span class="token punctuation">(</span>
        <span class="token operator">&lt;</span>div className<span class="token operator">=</span><span class="token string">&quot;mt-5&quot;</span><span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>h3 className<span class="token operator">=</span><span class="token string">&quot;text-center&quot;</span><span class="token operator">&gt;</span>
                Recuperar contraseña
            <span class="token operator">&lt;</span><span class="token operator">/</span>h3<span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>hr<span class="token operator">/</span><span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>div className<span class="token operator">=</span><span class="token string">&quot;row justify-content-center&quot;</span><span class="token operator">&gt;</span>
                <span class="token operator">&lt;</span>div className<span class="token operator">=</span><span class="token string">&quot;col-12 col-sm-8 col-md-6 col-xl-4&quot;</span><span class="token operator">&gt;</span>
                    <span class="token operator">&lt;</span>form onSubmit<span class="token operator">=</span><span class="token punctuation">{</span>procesarDatos<span class="token punctuation">}</span><span class="token operator">&gt;</span>
                        <span class="token punctuation">{</span>
                            error <span class="token operator">?</span> <span class="token punctuation">(</span>
                                <span class="token operator">&lt;</span>div className<span class="token operator">=</span><span class="token string">&quot;alert alert-danger&quot;</span><span class="token operator">&gt;</span>
                                    <span class="token punctuation">{</span>error<span class="token punctuation">}</span>
                                <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
                            <span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token keyword">null</span>
                        <span class="token punctuation">}</span>
                        <span class="token operator">&lt;</span>input 
                            type<span class="token operator">=</span><span class="token string">&quot;email&quot;</span> 
                            className<span class="token operator">=</span><span class="token string">&quot;form-control mb-2&quot;</span>
                            placeholder<span class="token operator">=</span><span class="token string">&quot;Ingrese Email&quot;</span>
                            onChange<span class="token operator">=</span><span class="token punctuation">{</span> <span class="token parameter">e</span> <span class="token operator">=&gt;</span> <span class="token function">setEmail</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>target<span class="token punctuation">.</span>value<span class="token punctuation">)</span> <span class="token punctuation">}</span>
                            value<span class="token operator">=</span><span class="token punctuation">{</span>email<span class="token punctuation">}</span>
                        <span class="token operator">/</span><span class="token operator">&gt;</span>
                        <span class="token operator">&lt;</span>button 
                            className<span class="token operator">=</span><span class="token string">&quot;btn btn-lg btn-dark btn-block&quot;</span>
                            type<span class="token operator">=</span><span class="token string">&quot;submit&quot;</span>
                        <span class="token operator">&gt;</span>
                            Recuperar
                        <span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
                    <span class="token operator">&lt;</span><span class="token operator">/</span>form<span class="token operator">&gt;</span>
                <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
    <span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">withRouter</span><span class="token punctuation">(</span>ResetPass<span class="token punctuation">)</span>
</code></pre></div></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/react-udemy/07-crud-firestore/" class="prev">
        07 CRUD Firestore
      </a></span> <span class="next"><a href="/react-udemy/09-paginacion/">
        09 Paginación Firestore
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/react-udemy/assets/js/app.4c1512cb.js" defer></script><script src="/react-udemy/assets/js/2.b23cf27d.js" defer></script><script src="/react-udemy/assets/js/13.99b52a2f.js" defer></script>
  </body>
</html>
